<div class="temp-ingredients-list">
  <h2>Temporary Ingredients List</h2>
  <div *ngIf="formalIngredients.length === 0">
    <p>
      There is no parsed ingredient. Please upload other receipts or shopping
      records for generating ingredients added to fridge
    </p>
  </div>
  <div *ngFor="let partialIngredient of formalIngredients; let i = index">
    <app-ingredient-card
      [partialIngredient]="partialIngredient"
      [mode]="'multi-add'"
      (editTempIngredient)="toggleEditForm(partialIngredient, i)"
      (deleteTempIngredient)="deleteTempIngredient($event)"
      (addIngredientImage)="addTempIngredientImage(i)"
    ></app-ingredient-card>
    <app-ingredient-form
      *ngIf="
        editingTempIngredient &&
        editingTempIngredientsIndex !== null &&
        editingTempIngredientsIndex === i
      "
      class="temp-ingredient-form"
      [mode]="'edit'"
      [ingredientToEdit]="editingTempIngredient"
      (submitIngredient)="editTempIngredient($event)"
      (cancelEdit)="cancelEdit()"
    ></app-ingredient-form>
    <app-ingredient-form
      *ngIf="
        addingTempIngredientImage &&
        addingTempIngredientsIndex !== null &&
        addingTempIngredientsIndex === i
      "
      [mode]="'image'"
      class="temp-ingredient-form"
      (submitImage)="submitTempIngredientImageFile($event, i)"
      (cancelImageUpload)="cancelAddTempIngredientImage()"
    ></app-ingredient-form>
  </div>
  <button
    mat-flat-button
    *ngIf="formalIngredients.length > 0"
    class="add-all-button"
    (click)="addAllIngredients()"
  >
    Add All Ingredients
  </button>
</div>
